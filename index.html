<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Sci‑Fi Story Generator</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    #story { white-space: pre-wrap; margin-top: 20px; }
    button { padding: 10px 20px; font-size: 16px; }
  </style>
</head>
<body>
  <h1>Sci‑Fi Story Generator</h1>
  <button id="generateBtn">Generate New Story</button>
  <div id="story"></div>

  <script>
    // Categorized words JSON (expand with more words as needed)
    const wordsDict = {
      nouns: ["planet", "star", "ship", "galaxy", "nebula", "asteroid", "satellite", "comet"],
      proper_nouns: ["Nova", "Orion", "Celeste", "Andromeda", "Zephyr", "Luna", "Cosmos"],
      verbs: ["drifts", "collides", "orbits", "vanishes", "emerges", "ascends", "descends", "pulsates"],
      adjectives: ["mysterious", "radiant", "ancient", "luminous", "ethereal", "celestial", "vivid", "enigmatic"],
      adverbs: ["silently", "swiftly", "gracefully", "unexpectedly", "solemnly", "quietly", "boldly"],
      characters: ["Captain Nova", "Commander Orion", "Dr. Celeste", "Admiral Andromeda", "Pilot Zephyr"]
    };

    // A large collection of sci‑fi themed paragraph templates grouped by style
    const storyTemplates = {
      narrative: [
        "In the #adjectives# reaches of the cosmos, a lone #nouns# #verbs# silently. #proper_nouns.capitalize# watched from afar, pondering the mysteries of the #adjectives# void.",
        "Drifting through a sea of #adjectives# stars, the #nouns# #verbs# as if searching for an elusive truth. Meanwhile, #proper_nouns# #verbs# with quiet resolve."
      ],
      descriptive: [
        "The galaxy shimmered in #adjectives# hues as #nouns# and #nouns# mingled in the #adjectives# light. Every corner of space revealed a new facet of the #nouns#.",
        "Amid the #adjectives# nebulae, a field of #nouns# stretched endlessly, each emitting a glow of #adjectives# brilliance."
      ],
      dialogue: [
        "\"#proper_nouns.capitalize#, do you see how the #nouns# #verbs# beyond the horizon?\" whispered a voice in the void.",
        "\"The #nouns# have #verbs# once again,\" declared #proper_nouns#, \"and our destiny is now entwined with the #adjectives# currents of space.\""
      ],
      action: [
        "Without warning, the #nouns# #verbs# into motion, igniting a chain reaction among the #adjectives# satellites.",
        "In a burst of energy, the #nouns# #verbs#, scattering debris across the #adjectives# expanse."
      ],
      mysterious: [
        "A shadow moved where the light of the #adjectives# stars could not reach—as if a secret #nouns# was #verbs# in the dark.",
        "Deep in the #adjectives# void, an unknown #nouns# #verbs# with eerie precision, leaving #proper_nouns# perplexed."
      ],
      philosophical: [
        "What is a #nouns# but a fragment of the infinite? In the #adjectives# tapestry of space, even a #nouns# holds a universe of meaning.",
        "#proper_nouns.capitalize# mused, \"Every #nouns# is a story, bound by the #adjectives# laws of existence.\""
      ],
      epic: [
        "Across the #adjectives# expanse, a mighty #nouns# #verbs# towards destiny, heralding an age of #adjectives# wonders.",
        "In a clash of #nouns# and #nouns#, the cosmos trembled as #proper_nouns# led the charge with an #adjectives# spirit."
      ],
      cosmic: [
        "The universe unfolded like a #adjectives# scroll, where every #nouns# and #nouns# played its part in the #adjectives# drama of existence.",
        "Amid swirling clouds of #adjectives# stardust, the #nouns# #verbs#—a silent ode to the mystery of creation."
      ],
      melancholy: [
        "In the cold vacuum, a solitary #nouns# #verbs# while memories of a #adjectives# past echoed in the void.",
        "A #adjectives# sorrow pervaded space, as the #nouns# #verbs# with a heavy heart, leaving #proper_nouns# to ponder lost dreams."
      ]
    };

    // Utility function: get a random element from an array
    function randomChoice(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    // Replace placeholders in the form #category# or #category.transformation#
    function replacePlaceholders(template, words) {
      return template.replace(/#([a-zA-Z_]+)(?:\.([a-zA-Z_]+))?#/g, (match, category, transformation) => {
        if (words[category] && words[category].length > 0) {
          let word = randomChoice(words[category]);
          if (transformation) {
            if (transformation === "capitalize") {
              word = word.charAt(0).toUpperCase() + word.slice(1);
            } else if (transformation === "upper") {
              word = word.toUpperCase();
            } else if (transformation === "lower") {
              word = word.toLowerCase();
            }
          }
          return word;
        }
        return match; // if category not found, return the placeholder unchanged
      });
    }

    // Generate a story by selecting a number of random paragraphs from different styles
    function generateStory(words, templates, numParagraphs = 8) {
      const paragraphs = [];
      const availableStyles = Object.keys(templates);
      for (let i = 0; i < numParagraphs; i++) {
        const style = randomChoice(availableStyles);
        const template = randomChoice(templates[style]);
        const paragraph = replacePlaceholders(template, words);
        paragraphs.push(paragraph);
      }
      return paragraphs.join("\n\n");
    }

    // Set up event listener for the button
    document.getElementById("generateBtn").addEventListener("click", () => {
      const story = generateStory(wordsDict, storyTemplates, 8);
      document.getElementById("story").textContent = story;
    });
  </script>
</body>
</html>

